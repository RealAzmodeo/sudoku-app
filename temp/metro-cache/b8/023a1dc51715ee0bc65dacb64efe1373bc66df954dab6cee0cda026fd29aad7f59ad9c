{"dependencies":[{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":53,"index":68}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"prepareUIRegistry\", {\n    enumerable: true,\n    get: function () {\n      return prepareUIRegistry;\n    }\n  });\n  var _reactNativeWorklets = require(_dependencyMap[0]);\n  var _worklet_12811629750916_init_data = {\n    code: \"function FrameCallbackRegistryUITs1(){const frameCallbackRegistry={frameCallbackRegistry:new Map(),activeFrameCallbacks:new Set(),previousFrameTimestamp:null,nextCallId:0,runCallbacks:function(callId){var _this=this;const loop=function(timestamp){if(callId!==_this.nextCallId){return;}if(_this.previousFrameTimestamp===null){_this.previousFrameTimestamp=timestamp;}const delta=timestamp-_this.previousFrameTimestamp;_this.activeFrameCallbacks.forEach(function(callbackId){const callbackDetails=_this.frameCallbackRegistry.get(callbackId);const{startTime:startTime}=callbackDetails;if(startTime===null){callbackDetails.startTime=timestamp;callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:null,timeSinceFirstFrame:0});}else{callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:delta,timeSinceFirstFrame:timestamp-startTime});}});if(_this.activeFrameCallbacks.size>0){_this.previousFrameTimestamp=timestamp;requestAnimationFrame(loop);}else{_this.previousFrameTimestamp=null;}};if(this.activeFrameCallbacks.size===1&&callId===this.nextCallId){requestAnimationFrame(loop);}},registerFrameCallback:function(callback,callbackId){this.frameCallbackRegistry.set(callbackId,{callback:callback,startTime:null});},unregisterFrameCallback:function(callbackId){this.manageStateFrameCallback(callbackId,false);this.frameCallbackRegistry.delete(callbackId);},manageStateFrameCallback:function(callbackId,state){if(callbackId===-1){return;}if(state){if(!this.activeFrameCallbacks.has(callbackId)){this.activeFrameCallbacks.add(callbackId);this.runCallbacks(this.nextCallId);}}else{const callback=this.frameCallbackRegistry.get(callbackId);callback.startTime=null;this.activeFrameCallbacks.delete(callbackId);if(this.activeFrameCallbacks.size===0){this.nextCallId+=1;}}}};global._frameCallbackRegistry=frameCallbackRegistry;}\"\n  };\n  var prepareUIRegistry = () => (0, _reactNativeWorklets.scheduleOnUI)(function FrameCallbackRegistryUITs1Factory(_ref) {\n    var _worklet_12811629750916_init_data = _ref._worklet_12811629750916_init_data;\n    var FrameCallbackRegistryUITs1 = function () {\n      var frameCallbackRegistry = {\n        frameCallbackRegistry: new Map(),\n        activeFrameCallbacks: new Set(),\n        previousFrameTimestamp: null,\n        nextCallId: 0,\n        runCallbacks(callId) {\n          var loop = timestamp => {\n            if (callId !== this.nextCallId) {\n              return;\n            }\n            if (this.previousFrameTimestamp === null) {\n              this.previousFrameTimestamp = timestamp;\n            }\n            var delta = timestamp - this.previousFrameTimestamp;\n            this.activeFrameCallbacks.forEach(callbackId => {\n              var callbackDetails = this.frameCallbackRegistry.get(callbackId);\n              var startTime = callbackDetails.startTime;\n              if (startTime === null) {\n                // First frame\n                callbackDetails.startTime = timestamp;\n                callbackDetails.callback({\n                  timestamp,\n                  timeSincePreviousFrame: null,\n                  timeSinceFirstFrame: 0\n                });\n              } else {\n                // Next frame\n                callbackDetails.callback({\n                  timestamp,\n                  timeSincePreviousFrame: delta,\n                  timeSinceFirstFrame: timestamp - startTime\n                });\n              }\n            });\n            if (this.activeFrameCallbacks.size > 0) {\n              this.previousFrameTimestamp = timestamp;\n              requestAnimationFrame(loop);\n            } else {\n              this.previousFrameTimestamp = null;\n            }\n          };\n\n          // runCallback() should only be called after registering a callback,\n          // so if there is only one active callback, then it means that there were\n          // zero previously and the loop isn't running yet.\n          if (this.activeFrameCallbacks.size === 1 && callId === this.nextCallId) {\n            requestAnimationFrame(loop);\n          }\n        },\n        registerFrameCallback(callback, callbackId) {\n          this.frameCallbackRegistry.set(callbackId, {\n            callback,\n            startTime: null\n          });\n        },\n        unregisterFrameCallback(callbackId) {\n          this.manageStateFrameCallback(callbackId, false);\n          this.frameCallbackRegistry.delete(callbackId);\n        },\n        manageStateFrameCallback(callbackId, state) {\n          if (callbackId === -1) {\n            return;\n          }\n          if (state) {\n            if (!this.activeFrameCallbacks.has(callbackId)) {\n              this.activeFrameCallbacks.add(callbackId);\n              this.runCallbacks(this.nextCallId);\n            }\n          } else {\n            var callback = this.frameCallbackRegistry.get(callbackId);\n            callback.startTime = null;\n            this.activeFrameCallbacks.delete(callbackId);\n            if (this.activeFrameCallbacks.size === 0) {\n              this.nextCallId += 1;\n            }\n          }\n        }\n      };\n      global._frameCallbackRegistry = frameCallbackRegistry;\n    };\n    FrameCallbackRegistryUITs1.__closure = {};\n    FrameCallbackRegistryUITs1.__workletHash = 12811629750916;\n    FrameCallbackRegistryUITs1.__initData = _worklet_12811629750916_init_data;\n    return FrameCallbackRegistryUITs1;\n  }({\n    _worklet_12811629750916_init_data\n  }));\n});","lineCount":107,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,30,0,"Object"],[7,8,30,0],[7,9,30,0,"defineProperty"],[7,23,30,0],[7,24,30,0,"exports"],[7,31,30,0],[8,4,30,0,"enumerable"],[8,14,30,0],[9,4,30,0,"get"],[9,7,30,0],[9,18,30,0,"get"],[9,19,30,0],[10,6,30,0],[10,13,30,0,"prepareUIRegistry"],[10,30,30,0],[11,4,30,0],[12,2,30,0],[13,2,3,0],[13,6,3,0,"_reactNativeWorklets"],[13,26,3,0],[13,29,3,0,"require"],[13,36,3,0],[13,37,3,0,"_dependencyMap"],[13,51,3,0],[14,2,3,53],[14,6,3,53,"_worklet_12811629750916_init_data"],[14,39,3,53],[15,4,3,53,"code"],[15,8,3,53],[16,2,3,53],[17,2,30,7],[17,6,30,13,"prepareUIRegistry"],[17,23,30,30],[17,26,30,33,"prepareUIRegistry"],[17,27,30,33],[17,32,31,2],[17,36,31,2,"scheduleOnUI"],[17,56,31,14],[17,57,31,14,"scheduleOnUI"],[17,69,31,14],[17,71,31,15],[17,80,31,15,"FrameCallbackRegistryUITs1Factory"],[17,114,31,15,"_ref"],[17,118,31,15],[18,4,31,15],[18,8,31,15,"_worklet_12811629750916_init_data"],[18,41,31,15],[18,44,31,15,"_ref"],[18,48,31,15],[18,49,31,15,"_worklet_12811629750916_init_data"],[18,82,31,15],[19,4,31,15],[19,8,31,15,"FrameCallbackRegistryUITs1"],[19,34,31,15],[19,46,31,15,"FrameCallbackRegistryUITs1"],[19,47,31,15],[19,49,31,21],[20,6,34,4],[20,10,34,10,"frameCallbackRegistry"],[20,31,34,56],[20,34,34,59],[21,8,35,6,"frameCallbackRegistry"],[21,29,35,27],[21,31,35,29],[21,35,35,33,"Map"],[21,38,35,36],[21,39,35,62],[21,40,35,63],[22,8,36,6,"activeFrameCallbacks"],[22,28,36,26],[22,30,36,28],[22,34,36,32,"Set"],[22,37,36,35],[22,38,36,44],[22,39,36,45],[23,8,37,6,"previousFrameTimestamp"],[23,30,37,28],[23,32,37,30],[23,36,37,34],[24,8,38,6,"nextCallId"],[24,18,38,16],[24,20,38,18],[24,21,38,19],[25,8,40,6,"runCallbacks"],[25,20,40,18,"runCallbacks"],[25,21,40,19,"callId"],[25,27,40,25],[25,29,40,27],[26,10,41,8],[26,14,41,14,"loop"],[26,18,41,18],[26,21,41,22,"timestamp"],[26,30,41,39],[26,34,41,44],[27,12,42,10],[27,16,42,14,"callId"],[27,22,42,20],[27,27,42,25],[27,31,42,29],[27,32,42,30,"nextCallId"],[27,42,42,40],[27,44,42,42],[28,14,43,12],[29,12,44,10],[30,12,45,10],[30,16,45,14],[30,20,45,18],[30,21,45,19,"previousFrameTimestamp"],[30,43,45,41],[30,48,45,46],[30,52,45,50],[30,54,45,52],[31,14,46,12],[31,18,46,16],[31,19,46,17,"previousFrameTimestamp"],[31,41,46,39],[31,44,46,42,"timestamp"],[31,53,46,51],[32,12,47,10],[33,12,49,10],[33,16,49,16,"delta"],[33,21,49,21],[33,24,49,24,"timestamp"],[33,33,49,33],[33,36,49,36],[33,40,49,40],[33,41,49,41,"previousFrameTimestamp"],[33,63,49,63],[34,12,51,10],[34,16,51,14],[34,17,51,15,"activeFrameCallbacks"],[34,37,51,35],[34,38,51,36,"forEach"],[34,45,51,43],[34,46,51,45,"callbackId"],[34,56,51,63],[34,60,51,68],[35,14,52,12],[35,18,52,18,"callbackDetails"],[35,33,52,33],[35,36,52,36],[35,40,52,40],[35,41,52,41,"frameCallbackRegistry"],[35,62,52,62],[35,63,52,63,"get"],[35,66,52,66],[35,67,52,67,"callbackId"],[35,77,52,77],[35,78,52,79],[36,14,54,12],[36,18,54,20,"startTime"],[36,27,54,29],[36,30,54,34,"callbackDetails"],[36,45,54,49],[36,46,54,20,"startTime"],[36,55,54,29],[37,14,56,12],[37,18,56,16,"startTime"],[37,27,56,25],[37,32,56,30],[37,36,56,34],[37,38,56,36],[38,16,57,14],[39,16,58,14,"callbackDetails"],[39,31,58,29],[39,32,58,30,"startTime"],[39,41,58,39],[39,44,58,42,"timestamp"],[39,53,58,51],[40,16,60,14,"callbackDetails"],[40,31,60,29],[40,32,60,30,"callback"],[40,40,60,38],[40,41,60,39],[41,18,61,16,"timestamp"],[41,27,61,25],[42,18,62,16,"timeSincePreviousFrame"],[42,40,62,38],[42,42,62,40],[42,46,62,44],[43,18,63,16,"timeSinceFirstFrame"],[43,37,63,35],[43,39,63,37],[44,16,64,14],[44,17,64,15],[44,18,64,16],[45,14,65,12],[45,15,65,13],[45,21,65,19],[46,16,66,14],[47,16,67,14,"callbackDetails"],[47,31,67,29],[47,32,67,30,"callback"],[47,40,67,38],[47,41,67,39],[48,18,68,16,"timestamp"],[48,27,68,25],[49,18,69,16,"timeSincePreviousFrame"],[49,40,69,38],[49,42,69,40,"delta"],[49,47,69,45],[50,18,70,16,"timeSinceFirstFrame"],[50,37,70,35],[50,39,70,37,"timestamp"],[50,48,70,46],[50,51,70,49,"startTime"],[51,16,71,14],[51,17,71,15],[51,18,71,16],[52,14,72,12],[53,12,73,10],[53,13,73,11],[53,14,73,12],[54,12,75,10],[54,16,75,14],[54,20,75,18],[54,21,75,19,"activeFrameCallbacks"],[54,41,75,39],[54,42,75,40,"size"],[54,46,75,44],[54,49,75,47],[54,50,75,48],[54,52,75,50],[55,14,76,12],[55,18,76,16],[55,19,76,17,"previousFrameTimestamp"],[55,41,76,39],[55,44,76,42,"timestamp"],[55,53,76,51],[56,14,77,12,"requestAnimationFrame"],[56,35,77,33],[56,36,77,34,"loop"],[56,40,77,38],[56,41,77,39],[57,12,78,10],[57,13,78,11],[57,19,78,17],[58,14,79,12],[58,18,79,16],[58,19,79,17,"previousFrameTimestamp"],[58,41,79,39],[58,44,79,42],[58,48,79,46],[59,12,80,10],[60,10,81,8],[60,11,81,9],[62,10,83,8],[63,10,84,8],[64,10,85,8],[65,10,86,8],[65,14,87,10],[65,18,87,14],[65,19,87,15,"activeFrameCallbacks"],[65,39,87,35],[65,40,87,36,"size"],[65,44,87,40],[65,49,87,45],[65,50,87,46],[65,54,88,10,"callId"],[65,60,88,16],[65,65,88,21],[65,69,88,25],[65,70,88,26,"nextCallId"],[65,80,88,36],[65,82,89,10],[66,12,90,10,"requestAnimationFrame"],[66,33,90,31],[66,34,90,32,"loop"],[66,38,90,36],[66,39,90,37],[67,10,91,8],[68,8,92,6],[68,9,92,7],[69,8,94,6,"registerFrameCallback"],[69,29,94,27,"registerFrameCallback"],[69,30,95,8,"callback"],[69,38,95,48],[69,40,96,8,"callbackId"],[69,50,96,26],[69,52,97,8],[70,10,98,8],[70,14,98,12],[70,15,98,13,"frameCallbackRegistry"],[70,36,98,34],[70,37,98,35,"set"],[70,40,98,38],[70,41,98,39,"callbackId"],[70,51,98,49],[70,53,98,51],[71,12,99,10,"callback"],[71,20,99,18],[72,12,100,10,"startTime"],[72,21,100,19],[72,23,100,21],[73,10,101,8],[73,11,101,9],[73,12,101,10],[74,8,102,6],[74,9,102,7],[75,8,104,6,"unregisterFrameCallback"],[75,31,104,29,"unregisterFrameCallback"],[75,32,104,30,"callbackId"],[75,42,104,48],[75,44,104,50],[76,10,105,8],[76,14,105,12],[76,15,105,13,"manageStateFrameCallback"],[76,39,105,37],[76,40,105,38,"callbackId"],[76,50,105,48],[76,52,105,50],[76,57,105,55],[76,58,105,56],[77,10,106,8],[77,14,106,12],[77,15,106,13,"frameCallbackRegistry"],[77,36,106,34],[77,37,106,35,"delete"],[77,43,106,41],[77,44,106,42,"callbackId"],[77,54,106,52],[77,55,106,53],[78,8,107,6],[78,9,107,7],[79,8,109,6,"manageStateFrameCallback"],[79,32,109,30,"manageStateFrameCallback"],[79,33,109,31,"callbackId"],[79,43,109,49],[79,45,109,51,"state"],[79,50,109,65],[79,52,109,67],[80,10,110,8],[80,14,110,12,"callbackId"],[80,24,110,22],[80,31,110,29],[80,33,110,31],[81,12,111,10],[82,10,112,8],[83,10,113,8],[83,14,113,12,"state"],[83,19,113,17],[83,21,113,19],[84,12,114,10],[84,16,114,14],[84,17,114,15],[84,21,114,19],[84,22,114,20,"activeFrameCallbacks"],[84,42,114,40],[84,43,114,41,"has"],[84,46,114,44],[84,47,114,45,"callbackId"],[84,57,114,55],[84,58,114,56],[84,60,114,58],[85,14,115,12],[85,18,115,16],[85,19,115,17,"activeFrameCallbacks"],[85,39,115,37],[85,40,115,38,"add"],[85,43,115,41],[85,44,115,42,"callbackId"],[85,54,115,52],[85,55,115,53],[86,14,116,12],[86,18,116,16],[86,19,116,17,"runCallbacks"],[86,31,116,29],[86,32,116,30],[86,36,116,34],[86,37,116,35,"nextCallId"],[86,47,116,45],[86,48,116,46],[87,12,117,10],[88,10,118,8],[88,11,118,9],[88,17,118,15],[89,12,119,10],[89,16,119,16,"callback"],[89,24,119,24],[89,27,119,27],[89,31,119,31],[89,32,119,32,"frameCallbackRegistry"],[89,53,119,53],[89,54,119,54,"get"],[89,57,119,57],[89,58,119,58,"callbackId"],[89,68,119,68],[89,69,119,70],[90,12,120,10,"callback"],[90,20,120,18],[90,21,120,19,"startTime"],[90,30,120,28],[90,33,120,31],[90,37,120,35],[91,12,122,10],[91,16,122,14],[91,17,122,15,"activeFrameCallbacks"],[91,37,122,35],[91,38,122,36,"delete"],[91,44,122,42],[91,45,122,43,"callbackId"],[91,55,122,53],[91,56,122,54],[92,12,123,10],[92,16,123,14],[92,20,123,18],[92,21,123,19,"activeFrameCallbacks"],[92,41,123,39],[92,42,123,40,"size"],[92,46,123,44],[92,51,123,49],[92,52,123,50],[92,54,123,52],[93,14,124,12],[93,18,124,16],[93,19,124,17,"nextCallId"],[93,29,124,27],[93,33,124,31],[93,34,124,32],[94,12,125,10],[95,10,126,8],[96,8,127,6],[97,6,128,4],[97,7,128,5],[98,6,130,4,"global"],[98,12,130,10],[98,13,130,11,"_frameCallbackRegistry"],[98,35,130,33],[98,38,130,36,"frameCallbackRegistry"],[98,59,130,57],[99,4,131,2],[99,5,131,3],[100,4,131,3,"FrameCallbackRegistryUITs1"],[100,30,131,3],[100,31,131,3,"__closure"],[100,40,131,3],[101,4,131,3,"FrameCallbackRegistryUITs1"],[101,30,131,3],[101,31,131,3,"__workletHash"],[101,44,131,3],[102,4,131,3,"FrameCallbackRegistryUITs1"],[102,30,131,3],[102,31,131,3,"__initData"],[102,41,131,3],[102,44,131,3,"_worklet_12811629750916_init_data"],[102,77,131,3],[103,4,131,3],[103,11,131,3,"FrameCallbackRegistryUITs1"],[103,37,131,3],[104,2,131,3],[104,3,31,15],[105,4,31,15,"_worklet_12811629750916_init_data"],[106,2,31,15],[106,4,131,3],[106,5,131,4],[107,0,131,5],[107,3]],"functionMap":{"names":["<global>","prepareUIRegistry","scheduleOnUI$argument_0","frameCallbackRegistry.runCallbacks","loop","activeFrameCallbacks.forEach$argument_0","frameCallbackRegistry.registerFrameCallback","frameCallbackRegistry.unregisterFrameCallback","frameCallbackRegistry.manageStateFrameCallback"],"mappings":"AAA;iCC6B;eCC;MCS;qBCC;4CCU;WDsB;SDQ;ODW;MIE;OJQ;MKE;OLG;MME;ONkB;GDI,CD"},"hasCjsExports":false},"type":"js/module"}]}